(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{73056:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return T}});var a=t(85169),n=t(19883),s=t(56785),i=t(38239),l=t(27979),c=t(90560),o=t(59499),d=t(75466),m=t(25183),u=t(89046),h=t(36325),p=t(83304),x=t(68411),g=t(41664),w=t(67294),f=t(79521),j=t(63801),y=t(71862),v=t(41626),b=t(85893);function N(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?N(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var P=()=>{const{i18n:e}=(0,a.mV)(),{pending:r,mutate:t}=(0,m.Z)(),n=(0,x.h7)(),i=(0,p.JY)(!0),l=(0,w.useCallback)((async(e,r)=>{if(!i)return;const a=await i.cancelOrder(e.getTypeHash());a&&(n(a,{summary:r}),await a.wait(),await t((e=>O({},e))))}),[n,i,t]),{config:c}=(({orders:e,cancelOrder:r})=>{const{i18n:t}=(0,a.mV)(),n=(0,w.useMemo)((()=>[{accessor:"tokenOut",Header:"Market",minWidth:300,Cell:e=>(0,b.jsxs)("div",{className:"flex gap-2.5 items-center whitespace-nowrap truncate text-ellipsis",children:[(0,b.jsx)("div",{className:"hidden lg:block",children:(0,b.jsx)(v.X,{currency:e.cell.row.original.tokenIn,className:"!rounded-full",size:18})}),(0,b.jsxs)(s.Z,{variant:"xs",className:"flex items-baseline gap-2 text-secondary",children:[(0,b.jsx)(s.Z,{variant:"xs",weight:700,component:"span",className:"text-high-emphesis",children:e.cell.row.original.limitOrder.amountIn.toSignificant(6)})," ",e.cell.row.original.tokenIn.symbol]}),(0,b.jsx)(j.XCv,{width:20,className:"text-primary"}),(0,b.jsx)("div",{className:"hidden lg:block",children:(0,b.jsx)(v.X,{currency:e.cell.row.original.tokenOut,className:"!rounded-full",size:18})}),(0,b.jsxs)(s.Z,{variant:"xs",className:"flex items-baseline gap-2 text-secondary",children:[(0,b.jsx)(s.Z,{variant:"xs",weight:700,component:"span",className:"text-high-emphesis",children:e.cell.row.original.limitOrder.amountOut.toSignificant(6)})," ",e.cell.row.original.tokenOut.symbol]})]})},{accessor:"rate",Header:"Rate",width:100,minWidth:100,Cell:e=>{const{0:r,1:t}=(0,w.useState)(!1);return(0,b.jsxs)(s.Z,{variant:"xs",className:"flex items-baseline gap-2 text-secondary cursor-pointer",onClick:()=>t(!r),children:[(0,b.jsx)(s.Z,{weight:700,variant:"xs",component:"span",className:"text-high-emphesis",children:r?e.cell.value.invert().toSignificant(6):e.cell.value.toSignificant(6)})," ",r?e.cell.row.original.tokenIn.symbol:e.cell.row.original.tokenOut.symbol]})}},{accessor:"filledPercent",Header:"Filled",width:80,minWidth:80,Cell:e=>(0,b.jsxs)(s.Z,{weight:700,variant:"xs",component:"span",className:"text-high-emphesis",children:[e.cell.value,"%"]})},{accessor:"timestamp",Header:"Expires",width:150,minWidth:150,Cell:e=>(0,b.jsx)(s.Z,{weight:700,variant:"xs",children:Number(e.cell.row.original.limitOrder.endTime)===Number.MAX_SAFE_INTEGER?"Never":new Date(1e3*Number(e.cell.row.original.limitOrder.endTime)).toLocaleString("en-uS",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZone:"UTC"})})},{accessor:"Updated",Header:"Created at",width:150,minWidth:150,Cell:e=>(0,b.jsx)(s.Z,{weight:700,variant:"xs",children:new Date(1e3*Number(e.cell.row.original.limitOrder.startTime)).toLocaleString("en-uS",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZone:"UTC"})})},{accessor:"id",Header:"Cancel",width:100,minWidth:100,Cell:e=>(0,b.jsx)(y.ZP,{color:"blue",variant:"empty",size:"xs",onClick:()=>r(e.cell.row.original.limitOrder,"Cancel order"),className:"whitespace-nowrap",children:t._(t._("Cancel Order"))})}]),[r,t]),i=w.useMemo((()=>({minWidth:0})),[]);return(0,w.useMemo)((()=>({config:{columns:n,data:e,defaultColumn:i}})),[e,n,i])})({orders:r.data,cancelOrder:l}),{getTableProps:o,getTableBodyProps:N,headerGroups:P,prepareRow:Z,page:k}=(0,f.useTable)(c,f.useSortBy,f.usePagination,f.useFlexLayout);return(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("div",{className:(0,h.AK)(u._O,r.maxPages>1?"min-h-[537px]":""),children:(0,b.jsxs)("table",O(O({id:"asset-balances-table"},o()),{},{className:u.RR,children:[(0,b.jsx)("thead",{children:P.map(((e,r)=>(0,w.createElement)("tr",O(O({},e.getHeaderGroupProps()),{},{key:r}),e.headers.map(((r,t)=>(0,w.createElement)("th",O(O({},r.getHeaderProps(r.getSortByToggleProps())),{},{key:t,className:(0,u.G0)(t,e.headers.length)}),r.render("Header")))))))}),(0,b.jsx)("tbody",O(O({},N()),{},{children:k.length>0?k.map(((e,r)=>(Z(e),(0,w.createElement)("tr",O(O({},e.getRowProps()),{},{key:r,className:u.vu}),e.cells.map(((r,t)=>(0,b.jsx)("td",O(O({},r.getCellProps()),{},{className:(0,h.AK)((0,u.zm)(t,e.cells.length),"cursor-default whitespace-nowrap"),children:r.render("Cell")}),t))))))):(0,b.jsx)("tr",{className:u.vu,children:(0,b.jsx)("td",{colSpan:4,className:(0,h.AK)((0,u.zm)(0,1),"justify-center cursor-default"),children:(0,b.jsx)(s.Z,{variant:"xs",className:"text-center text-low-emphesis h-[60px] flex items-center justify-center",component:"span",children:e._(e._("No open orders"))})})})})),(0,b.jsx)("tfoot",{children:(0,b.jsx)("tr",{className:(0,h.AK)(u.vu),children:(0,b.jsx)("td",{colSpan:4,className:(0,h.AK)((0,u.zm)(0,1),"justify-center cursor-default py-4"),children:(0,b.jsxs)(s.Z,{variant:"xs",className:"italic text-center text-low-emphesis",children:["Funds will be received in your"," ",(0,b.jsx)(g.default,{href:"/portfolio",passHref:!0,children:(0,b.jsx)(s.Z,{variant:"xs",className:"text-blue",component:"span",children:"BentoBox"})})," ","after order execution"]})})})})]}))}),(0,b.jsx)(d.Z,{canPreviousPage:r.page>1,canNextPage:r.page<r.maxPages,onChange:e=>r.setPage(e+1),totalPages:r.maxPages,currentPage:r.page-1,pageNeighbours:1})]})},Z=t(97627),k=t(87433),C=t(22680),_=t(12614),S=t(15393);function E(){const{chainId:e,account:r}=(0,_.a)(),{i18n:t}=(0,a.mV)(),{pending:i}=(0,m.Z)(),o=e?n.A2[e]:void 0,d=(0,S.B2)(o,null!==r&&void 0!==r?r:void 0);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Z,{}),(0,b.jsx)(l.Z,{}),(0,b.jsxs)(C.A9,{children:[i.totalOrders>0&&"undefined"!==typeof d&&!d&&(0,b.jsx)("div",{className:"border border-yellow/40 rounded p-4",children:(0,b.jsx)(s.Z,{variant:"sm",className:"text-yellow",children:t._(t._("It seems like you have open orders while the limit order master contract is not yet approved. Please make\nsure you have approved the limit order master contract or the order will not execute"))})}),(0,b.jsx)(Z.Z,{}),(0,b.jsx)(P,{})]})]})}E.Guard=(0,k.Z)(i.L.LIMIT_ORDERS);var T=E},19153:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/legacy/limit-order/open",function(){return t(73056)}])}},function(e){e.O(0,[7440,4221,9521,1626,2578,9774,2888,179],(function(){return r=19153,e(e.s=r);var r}));var r=e.O();_N_E=r}]);