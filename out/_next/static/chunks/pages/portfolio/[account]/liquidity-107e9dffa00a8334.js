(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6610],{44516:function(e,t,r){"use strict";var n=r(59499),s=r(85169),a=r(56785),c=r(89046),i=r(67294),l=r(79521),o=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=({config:e,onSelect:t})=>{const{i18n:r}=(0,s.mV)(),{getTableProps:n,getTableBodyProps:u,headerGroups:h,prepareRow:f,page:p}=(0,l.useTable)(e,l.useSortBy,l.usePagination,l.useFlexLayout);return(0,o.jsx)("div",{className:c._O,children:(0,o.jsxs)("table",d(d({id:"asset-balances-table"},n()),{},{className:c.RR,children:[(0,o.jsx)("thead",{children:h.map(((e,t)=>(0,i.createElement)("tr",d(d({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map(((t,r)=>(0,i.createElement)("th",d(d({},t.getHeaderProps(t.getSortByToggleProps())),{},{key:r,className:(0,c.G0)(r,e.headers.length)}),t.render("Header")))))))}),(0,o.jsx)("tbody",d(d({},u()),{},{className:"h-[65px]",children:p.length>0?p.map(((e,r)=>(f(e),(0,i.createElement)("tr",d(d({},e.getRowProps()),{},{key:r,onClick:()=>t&&t(e),className:c.vu}),e.cells.map(((t,r)=>(0,o.jsx)("td",d(d({},t.getCellProps()),{},{className:(0,c.zm)(r,e.cells.length),children:t.render("Cell")}),r))))))):(0,o.jsx)(a.Z,{variant:"xs",className:"text-center text-low-emphesis h-[60px] flex items-center justify-center",children:r._(r._("No balances"))})}))]}))})}},92695:function(e,t,r){"use strict";r.d(t,{pj:function(){return s},EY:function(){return a}});r(71923),r(98366);var n=r(93831);r(12614),r(67294);const s=e=>(0,n.Z)(e.filter((e=>e.userCollateralShare.gt(0)||e.userBorrowPart.gt(0))),{keys:["search"],threshold:.1},{key:"health.value",direction:"descending"}),a=e=>(0,n.Z)(e.filter((e=>e.userAssetFraction.gt(0))),{keys:["search"],threshold:.1},{key:"currentUserAssetAmount.usdValue",direction:"descending"})},45572:function(e,t,r){"use strict";var n=r(610),s=r.n(n),a=r(63801),c=r(49680),i=r(56785),l=r(36325),o=r(29325),u=r(12614),d=r(41664),h=r(67294),f=r(30710),p=r(85893);t.Z=({account:e,hideAccount:t=!1})=>{const{library:r,chainId:n}=(0,u.a)(),{0:m,1:g}=(0,h.useState)(!1),{ENSName:x}=(0,o.Z)(null!==e&&void 0!==e?e:void 0);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"flex items-center gap-4",onClick:()=>g(!m),children:[e&&(0,p.jsx)("div",{className:"border-2 rounded-full",children:(0,p.jsx)(s(),{size:64,address:e,defaultComponent:(0,p.jsx)(f.default,{seed:e,size:16,className:"rounded-full"}),provider:r})}),(0,p.jsxs)("div",{className:"flex flex-col",children:[e&&(0,p.jsx)(d.default,{href:(0,l.E8)(n,e,"address"),passHref:!0,children:(0,p.jsx)("a",{target:"_blank",children:(0,p.jsxs)(i.Z,{variant:"h3",className:"flex gap-1 cursor-pointer text-high-emphesis hover:text-blue-100",weight:700,children:[x||(e?(0,l.Xn)(e):"")," ",(0,p.jsx)(a.xPt,{width:20})]})})}),e&&!t&&(0,p.jsx)(c.Z,{toCopy:e,className:"opacity-100 text-primary",children:(0,l.Xn)(e)})]})]})})}},82221:function(e,t,r){"use strict";r.d(t,{K:function(){return a}});var n=r(36325),s=r(11163);const a=e=>{const t=(0,s.useRouter)(),{account:r}=t.query;return r&&"string"===typeof r&&(0,n.UJ)(r)?r:(t.replace(e),!1)}},21328:function(e,t,r){"use strict";var n=r(59499),s=r(9279),a=r(90573),c=r(67294),i=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const u=({amount:e,update:t})=>{const r=(0,a.NF)(e),n=e?e.currency.isNative?s.d:e.currency.wrapped.address:void 0;return(0,c.useEffect)((()=>{if(n)return t(n,r),()=>{t(n,void 0)}}),[n,t,r]),(0,i.jsx)(i.Fragment,{})};t.Z=({amounts:e,children:t})=>{const{0:r,1:n}=(0,c.useState)({}),s=(0,c.useCallback)(((e,t)=>{n((r=>o(o({},r),{},{[e]:t})))}),[]),a=(0,c.useMemo)((()=>Object.values(r).filter(Boolean)),[r]),l=(0,c.useMemo)((()=>a.length>0?a.reduce(((e,t)=>e.add(t))):void 0),[a]);return(0,i.jsxs)(i.Fragment,{children:[null===e||void 0===e?void 0:e.map(((e,t)=>(0,i.jsx)(u,{amount:e,update:s},t))),t({amount:l})]})}},82766:function(e,t,r){"use strict";r.d(t,{r:function(){return o}});var n=r(71923),s=(r(93036),r(1082)),a=r.n(s),c=r(83852),i=r(67294),l=r(75438);function o(e){const{0:t,1:r}=(0,i.useState)("#0094ec");return(0,i.useLayoutEffect)((()=>{let t=!1;return e&&async function(e){if(e.chainId===n.a_.RINKEBY&&"0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735"===e.address)return Promise.resolve("#FAAB14");const t="https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/".concat(e.address,"/logo.png");return a().from(t).getPalette().then((e=>{if(null!==e&&void 0!==e&&e.Vibrant){let t=e.Vibrant.hex,r=(0,l.$v)(t,"#FFF");for(;r<3;)t=(0,c.wj)(.005,t),r=(0,l.$v)(t,"#FFF");return t}return null})).catch((()=>null))}(e).then((e=>{t||null===e||r(e)})),()=>{t=!0,r("#0094ec")}}),[e]),t}},93831:function(e,t,r){"use strict";var n=r(59499),s=r(2593),a=r(74221),c=r(67294);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r="."){try{return t.replace("[",r).replace("]","").split(r).reduce(((e,t)=>e[t]),e)}catch(n){return}}t.Z=(e,t=null,r=null)=>{const{0:o,1:u}=(0,c.useState)(""),{0:d,1:h}=(0,c.useState)(r),f=new a.Z(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t)),p=(o?f.search("".concat(o)):e).map((e=>e.item?e.item:e));return{items:(0,c.useMemo)((()=>{if(p&&p.length>0){const e=[...p];return null!==d&&e.sort(((e,t)=>{const r=l(e,d.key),n=l(t,d.key);if(r instanceof s.O$&&n instanceof s.O$){if(r.lt(n))return"ascending"===d.direction?-1:1;if(r.gt(n))return"ascending"===d.direction?1:-1}else{if(r<n)return"ascending"===d.direction?-1:1;if(r>n)return"ascending"===d.direction?1:-1}return 0})),e}return[]}),[p,d]),term:o,setTerm:u,sortConfig:d,setSortConfig:h,requestSort:(e,t="ascending")=>{d&&d.key===e&&"ascending"===d.direction?t="descending":d&&d.key===e&&"descending"===d.direction&&(t="ascending"),h({key:e,direction:t})}}}},21752:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var n=r(44516),s=r(71862),a=r(17141),c=r(56785),i=r(85843),l=r(26797),o=r(50484),u=r(36325),d=r(25361),h=r(12614),f=r(41664),p=r(67294),m=r(85893);var g=r(22339);const x=()=>{const{account:e,chainId:t}=(0,h.a)(),{data:r}=(0,g.Pm)({chainId:t,variables:{where:{user:null===e||void 0===e?void 0:e.toLowerCase(),balance_gt:0}},shouldFetch:!!t&&!!e}),{config:x}=(e=>{const{chainId:t}=(0,h.a)(),r=(0,p.useMemo)((()=>t?[{Header:"Assets",accessor:"assets",className:"text-left",Cell:({value:e,row:{original:t}})=>(0,m.jsx)(i.y,{assets:e,twapEnabled:t.twapEnabled}),filter:l._},{Header:"Pool Type",accessor:"type",maxWidth:100,className:"text-left hidden lg:flex",Cell:e=>(0,m.jsx)(a.Z,{label:o.kv[e.value],color:o.bG[e.value]}),filter:(e,t,r)=>e.filter((e=>!r.length||r.includes(e.values.type)))},{Header:"Fee Tier",accessor:"swapFeePercent",maxWidth:100,className:"text-left hidden lg:flex",Cell:e=>(0,m.jsxs)("span",{children:[e.value,"%"]}),filter:l.S},{id:"value",Header:"Value",accessor:"value",maxWidth:100,className:"text-right flex justify-end",Cell:e=>(0,m.jsxs)(c.Z,{weight:700,className:"text-high-emphesis text-right w-full",children:["$",e.value.toFixed(2)]})},{Header:"APY",accessor:"apy",maxWidth:100,className:"text-right flex justify-end",Cell:({row:r})=>{var n;const{data:s}=(0,d.IA)({chainId:t,variables:{where:{id_in:null===e||void 0===e?void 0:e.map((e=>e.id.toLowerCase()))}},shouldFetch:!!t&&!!e});return(0,m.jsx)(c.Z,{weight:700,className:"text-high-emphesis text-right w-full",children:(0,u.T3)(null===s||void 0===s||null===(n=s[r.id])||void 0===n?void 0:n.apy)})}},{id:"actions",Header:"Actions",accessor:"type",maxWidth:100,className:"text-right flex justify-end",cellClassName:"justify-end",Cell:({row:{original:e}})=>(0,m.jsx)(f.default,{href:{pathname:"/trident/pool",query:{tokens:e.assets.map((e=>e.address)),fee:100*e.swapFeePercent,twap:e.twapEnabled}},passHref:!0,children:(0,m.jsx)(s.ZP,{color:"blue",size:"sm",variant:"empty",children:"Manage"})})}]:[]),[t]),n=p.useMemo((()=>({minWidth:0})),[]);return(0,p.useMemo)((()=>({config:{columns:r,data:e||[],defaultColumn:n,initialState:{pageSize:15,sortBy:[{id:"value",desc:!0}]},autoResetFilters:!1}})),[r,n,e])})(r);return(0,m.jsx)(n.Z,{config:x})};var v=r(85169);r(71923),r(92695),r(21328),r(15393),r(98950);const j=()=>{const{i18n:e}=(0,v.mV)(),{account:t,chainId:r}=(0,h.a)(),{data:n}=(0,g.Pm)({chainId:r,variables:{where:{user:null===t||void 0===t?void 0:t.toLowerCase(),balance_gt:0}},shouldFetch:!!r&&!!t}),s=null===n||void 0===n?void 0:n.reduce(((e,t)=>e+t.value),0);return(0,m.jsxs)("div",{className:"flex gap-14",children:[(0,m.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,m.jsx)(c.Z,{variant:"sm",children:e._(e._("Total Value"))}),(0,m.jsxs)(c.Z,{variant:"lg",weight:700,className:"text-high-emphesis",children:["$",(null===s||void 0===s?void 0:s.toFixed(2))||"0.00"]})]}),(0,m.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,m.jsx)(c.Z,{variant:"sm",children:e._(e._("Number of Assets"))}),(0,m.jsx)(c.Z,{variant:"lg",weight:700,className:"text-high-emphesis",children:null===n||void 0===n?void 0:n.length})]})]})};var b=r(45572),y=r(82221),w=r(22680);const O=()=>{const e=(0,y.K)("/portfolio");if(e)return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(w.CV,{pattern:"bg-binary",children:[(0,m.jsx)(b.Z,{account:e}),(0,m.jsx)(j,{})]}),(0,m.jsx)(w.A9,{children:(0,m.jsx)("div",{className:"flex flex-col justify-between gap-8",children:(0,m.jsx)(x,{})})})]})};O.Layout=w.ZP;var P=O},10634:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/portfolio/[account]/liquidity",function(){return r(21752)}])}},function(e){e.O(0,[7440,4221,9521,1626,8366,7879,9774,2888,179],(function(){return t=10634,e(e.s=t);var t}));var t=e.O();_N_E=t}]);