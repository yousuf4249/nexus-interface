(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2729],{78999:function(e,t,i){"use strict";i.d(t,{_:function(){return u},b:function(){return c}});var n=i(19642),s=i(67294),r=i(58529),o=i(60852),a=i(92506),l=(0,s.createContext)(null);function d(){var e=(0,s.useContext)(l);if(null===e){var t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,d),t}return e}function c(){var e=(0,s.useState)([]),t=e[0],i=e[1];return[t.length>0?t.join(" "):void 0,(0,s.useMemo)((function(){return function(e){var t=(0,s.useCallback)((function(e){return i((function(t){return[].concat(t,[e])})),function(){return i((function(t){var i=t.slice(),n=i.indexOf(e);return-1!==n&&i.splice(n,1),i}))}}),[]),n=(0,s.useMemo)((function(){return{register:t,slot:e.slot,name:e.name,props:e.props}}),[t,e.slot,e.name,e.props]);return s.createElement(l.Provider,{value:n},e.children)}}),[i])]}function u(e){var t=e.passive,i=void 0!==t&&t,s=(0,n.gK)(e,["passive"]),l=d(),c="headlessui-label-"+(0,a.M)();(0,o.e)((function(){return l.register(c)}),[c,l.register]);var u=(0,n.gY)({},l.props,{id:c}),h=(0,n.gY)({},s,u);return i&&delete h.onClick,(0,r.sY)({props:h,slot:l.slot||{},defaultTag:"label",name:l.name||"Label"})}},85460:function(e,t,i){"use strict";i.d(t,{r:function(){return v}});var n=i(19642),s=i(67294),r=i(58529),o=i(57471),a=i(62659),l=i(79016),d=i(92506),c=i(87587),u=i(56637),h=i(78999),p=(0,s.createContext)(null);p.displayName="GroupContext";var m=s.Fragment;function v(e){var t=e.checked,i=e.onChange,c=(0,n.gK)(e,["checked","onChange"]),h="headlessui-switch-"+(0,d.M)(),m=(0,s.useContext)(p),v=(0,s.useRef)(null),x=(0,o.T)(v,null===m?null:m.setSwitch),f=(0,s.useCallback)((function(){return i(!t)}),[i,t]),g=(0,s.useCallback)((function(e){if((0,l.P)(e.currentTarget))return e.preventDefault();e.preventDefault(),f()}),[f]),w=(0,s.useCallback)((function(e){e.key!==a.R.Tab&&e.preventDefault(),e.key===a.R.Space&&f()}),[f]),j=(0,s.useCallback)((function(e){return e.preventDefault()}),[]),y=(0,s.useMemo)((function(){return{checked:t}}),[t]),b={id:h,ref:x,role:"switch",type:(0,u.f)(e,v),tabIndex:0,"aria-checked":t,"aria-labelledby":null==m?void 0:m.labelledby,"aria-describedby":null==m?void 0:m.describedby,onClick:g,onKeyUp:w,onKeyPress:j};return(0,r.sY)({props:(0,n.gY)({},c,b),slot:y,defaultTag:"button",name:"Switch"})}v.Group=function(e){var t=(0,s.useState)(null),i=t[0],n=t[1],o=(0,h.b)(),a=o[0],l=o[1],d=(0,c.f)(),u=d[0],v=d[1],x=(0,s.useMemo)((function(){return{switch:i,setSwitch:n,labelledby:a,describedby:u}}),[i,n,a,u]);return s.createElement(v,{name:"Switch.Description"},s.createElement(l,{name:"Switch.Label",props:{onClick:function(){i&&(i.click(),i.focus({preventScroll:!0}))}}},s.createElement(p.Provider,{value:x},(0,r.sY)({props:e,defaultTag:m,name:"Switch.Group"}))))},v.Label=h._,v.Description=c.d},98332:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var n=i(63801),s=i(63153),r=i(67294),o=i(36325),a=i(56785),l=i(85893);const d={information:{text:"text-high-emphesis",color:"bg-purple bg-opacity-20 text-high-emphesis",icon:(0,l.jsx)("svg",{className:"h-5 w-5 text-purple",viewBox:"0 0 33 33",xmlns:"http://www.w3.org/2000/svg",path:"currentColor",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{d:"M16.5 0C7.40184 0 0 7.40184 0 16.5C0 25.5982 7.40184 33 16.5 33C25.5982 33 33 25.5982 33 16.5C33 7.40184 25.5982 0 16.5 0ZM16.5 25.9909C15.5747 25.9909 14.8245 25.2407 14.8245 24.3154C14.8245 23.39 15.5747 22.6398 16.5 22.6398C17.4253 22.6398 18.1755 23.39 18.1755 24.3154C18.1755 25.2407 17.4253 25.9909 16.5 25.9909ZM18.1755 17.3898C18.1755 18.3152 17.4253 19.0654 16.5 19.0654C15.5747 19.0654 14.8245 18.3152 14.8245 17.3898V8.56534C14.8245 7.63999 15.5747 6.8898 16.5 6.8898C17.4253 6.8898 18.1755 7.63999 18.1755 8.56534V17.3898Z",fill:"currentColor"})})},warning:{text:"text-high-emphesis",color:"bg-yellow bg-opacity-25 text-high-emphesis",icon:(0,l.jsx)("svg",{className:"w-5 h-5 text-yellow",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})},error:{text:"text-red",color:"bg-red bg-opacity-25 text-high-emphesis",icon:(0,l.jsx)(n.$Ow,{className:"h-5 w-5 text-red"})}};function c({title:e,message:t,type:i="warning",className:n="",showIcon:c=!1,dismissable:u=!0}){const{0:h,1:p}=(0,r.useState)(!0),{color:m,icon:v,text:x}=d[i];return t&&h?(0,l.jsxs)("div",{className:(0,o.AK)("flex flex-row rounded p-4 gap-3",m,n),children:[c&&(0,l.jsx)("div",{children:v}),(0,l.jsxs)("div",{className:"flex flex-col gap-1.5 justify-center",children:[e&&(0,l.jsx)(a.Z,{weight:700,className:(0,o.AK)(x,"text-left inline leading-6"),children:e}),(0,l.jsx)(a.Z,{variant:"sm",weight:700,className:(0,o.AK)(x,"text-left"),children:t})]}),u&&(0,l.jsxs)("button",{type:"button",onClick:()=>p(!h),className:"inline-flex opacity-80 hover:opacity-100 focused:opacity-100 rounded text-primary hover:text-high-emphesis focus:text-high-emphesis focus:outline-none focus:ring focus:ring-offset focus:ring-offset-purple focus:ring-purple",children:[(0,l.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,l.jsx)(s.b0D,{className:"w-5 h-5","aria-hidden":"true"})]})]}):null}},44345:function(e,t,i){"use strict";var n=i(49196),s=i(85220),r=i(63801),o=i(67294),a=i(56785),l=i(85893);t.Z=({title:e,open:t,onClose:i,children:d,closeTrigger:c})=>(0,l.jsx)(n.u.Root,{show:t,as:o.Fragment,children:(0,l.jsx)(s.V,{as:"div",static:!0,className:"fixed inset-0 overflow-hidden z-20",open:t,onClose:i,children:(0,l.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,l.jsx)(n.u.Child,{as:o.Fragment,enter:"ease-in-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)(s.V.Overlay,{className:"absolute inset-0 bg-black bg-opacity-75 transition-opacity"})}),(0,l.jsx)("div",{className:"max-h-[fit-content] absolute bottom-0 fixed right-0 left-0 w-full flex",children:(0,l.jsx)(n.u.Child,{as:o.Fragment,enter:"transform transition ease-in-out duration-200 sm:duration-700",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transform transition ease-in-out duration-200 sm:duration-700",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:(0,l.jsx)("div",{className:"w-full rounded-t overflow-hidden",children:e?(0,l.jsxs)("div",{className:"flex flex-col shadow-xl overflow-y-auto h-full bg-gradient-to-r from-blue to-pink",children:[(0,l.jsx)("div",{className:"p-5",children:(0,l.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,l.jsx)(a.Z,{variant:"lg",weight:700,className:"text-high-emphesis",children:e}),c||(0,l.jsxs)("button",{onClick:i,children:[(0,l.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,l.jsx)(r.b0D,{className:"h-6 w-6 text-high-emphesis","aria-hidden":"true"})]})]})}),d]}):d})})})]})})})},22441:function(e,t,i){"use strict";var n=i(85169),s=i(63929),r=i(56785),o=(i(67294),i(85893));t.Z=({children:e})=>{const{i18n:t}=(0,n.mV)();return(0,o.jsx)(s.Z,{trigger:e,children:({setOpen:e})=>(0,o.jsxs)("div",{className:"flex flex-col gap-4 lg:max-w-2xl",children:[(0,o.jsx)(s.Z.Header,{header:t._(t._("Transaction Details")),onClose:()=>e(!1)}),(0,o.jsxs)(s.Z.BorderedContent,{className:"flex flex-col gap-4 border-dark-800",children:[(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)(r.Z,{weight:700,variant:"sm",className:"text-high-emphesis",children:t._(t._("Minimum Received"))}),(0,o.jsx)(r.Z,{variant:"sm",children:t._(t._("The minimum amount you\u2019ll receive from your transaction, or else the transaction will revert."))})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)(r.Z,{weight:700,variant:"sm",className:"text-high-emphesis",children:t._(t._("Price Impact"))}),(0,o.jsxs)(r.Z,{variant:"sm",children:[t._(t._("The difference between market price and estimated price due to the proportional makeup of the assets deposited."))," "]})]})]}),(0,o.jsxs)(s.Z.BorderedContent,{className:"flex flex-col gap-4",children:[(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)(r.Z,{weight:700,variant:"sm",className:"text-high-emphesis",children:t._(t._("Liquidity Provider Fee"))}),(0,o.jsx)(r.Z,{variant:"sm",children:t._(t._("0.25% of each swap goes to liquidity providers."))})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)(r.Z,{weight:700,variant:"sm",className:"text-high-emphesis",children:t._(t._("xSUSHI Fee"))}),(0,o.jsxs)(r.Z,{variant:"sm",children:[t._(t._("0.055% of each swap goes to xSUSHI holders."))," "]})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)(r.Z,{weight:700,variant:"sm",className:"text-high-emphesis",children:t._(t._("Estimated network Fee"))}),(0,o.jsx)(r.Z,{variant:"sm",children:t._(t._("This is our estimate of how much the gas cost for your transaction will be. Your wallet will give the true and final gas cost, which may be different from what is quoted."))})]})]}),(0,o.jsx)(s.Z.BorderedContent,{className:"border-purple/60",children:(0,o.jsx)(r.Z,{variant:"sm",children:t._(t._("Depositing with Zap Mode involves swapping your asset for the assets in the pool - this makes your transaction subject to swap-related fees."))})})]})})}},67347:function(e,t,i){"use strict";i.d(t,{x:function(){return s},H7:function(){return r},CG:function(){return o},Wb:function(){return a},gc:function(){return l},Il:function(){return d},uE:function(){return c},VU:function(){return u}});var n=i(84243);const s=({contract:e,fn:t,args:i})=>e.interface.encodeFunctionData(t,i),r=({contract:e,actions:t=[]})=>{const i=t.filter(Boolean);if(0===i.length)throw new Error("No valid actions");return 1===i.length?i[0]:i.length>1?e.interface.encodeFunctionData("batch",[i]):void 0},o=({router:e,address:t,amount:i,recipient:s,receiveToWallet:r,liquidityOutput:o})=>e.interface.encodeFunctionData("burnLiquidity",[t,i,n.$.encode(["address","bool"],[s,r]),o]),a=({router:e,token:t,address:i,amount:s,recipient:r,receiveToWallet:o,minWithdrawal:a})=>e.interface.encodeFunctionData("burnLiquiditySingle",[i,s,n.$.encode(["address","address","bool"],[t,r,o]),a]),l=({router:e,recipient:t,amountMinimum:i})=>e.interface.encodeFunctionData("unwrapWETH",[i,t]),d=({router:e,token:t,amount:i,recipient:n})=>e.interface.encodeFunctionData("sweepNativeToken",[t,i,n]),c=({router:e,signature:t})=>{if(!t)return;const{v:i,r:n,s:s}=t;return e.interface.encodeFunctionData("approveMasterContract",[i,n,s])},u=({router:e,signatureData:t})=>{if(!t)return;const{tokenAddress:i,amount:n,deadline:s,v:r,r:o,s:a}=t;return e.interface.encodeFunctionData("permitThis",[i,n,s,r,o,a])}},23310:function(e,t,i){"use strict";i.d(t,{d:function(){return s}});var n=i(71923);const s=e=>{var t,i;if(null===(t=e[0])||void 0===t||!t.greaterThan(0)||null===(i=e[1])||void 0===i||!i.greaterThan(0))return;const s=e[1].divide(e[0]);return new n.tA(e[0].currency,e[1].currency,s.denominator,s.numerator)}},20311:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return se}});var n=i(63153),s=i(85169),r=i(53654),o=i(98332),a=i(71862),l=i(94492),d=i(56785),c=i(34189),u=i(71923),h=i(20734),p=i(62828),m=i(36325),v=i(15423),x=i(12614),f=i(16339),g=i(67294),w=i(25617);const j=()=>{const{currencies:e}=(0,p.x)(),t=(0,w.v9)(h.z_);return(0,g.useMemo)((()=>e[0]&&e[1]?[(0,m.eo)(t[0],e[0]),(0,m.eo)(t[1],e[1])]:[void 0,void 0]),[e,t])},y=()=>{var e,t;const{i18n:i}=(0,s.mV)(),{account:n}=(0,x.a)(),{poolWithState:o,currencies:a}=(0,p.x)(),l=(0,w.v9)(h.Fo),d=j(),c=(0,v.L)(null!==n&&void 0!==n?n:void 0,a,l),m=(0,g.useMemo)((()=>!!d.find(((e,t)=>{var i;return!(!c||!e)&&(null===c||void 0===c||null===(i=c[t])||void 0===i?void 0:i.lessThan(e))}))),[c,d]);return n?(null===o||void 0===o?void 0:o.state)===r.tK.INVALID?i._(i._("Invalid pool")):null!==(e=d[0])&&void 0!==e&&e.greaterThan(u.xE)||null!==(t=d[1])&&void 0!==t&&t.greaterThan(u.xE)?m?i._(i._("Insufficient Balance")):"":i._(i._("Enter an amount")):i._(i._("Connect Wallet"))},b=()=>{const e=(0,f.T)(),t=(0,f.C)(h.Zx),{fixedRatio:i,spendFromWallet:n,normalInput:s}=t,r=(0,g.useMemo)((()=>t=>e((0,h.Mt)("function"===typeof t?t(s):t))),[e,s]);return(({fixedRatio:e,spendFromWallet:t,inputs:i,setInputs:n})=>{const{account:s}=(0,x.a)(),{poolWithState:r,noLiquidity:o,rebases:a,currencies:l}=(0,p.x)(),d=j(),c=(0,g.useCallback)((t=>{if(null!==r&&void 0!==r&&r.pool&&!o&&e&&null!==l&&void 0!==l&&l[0]&&null!==l&&void 0!==l&&l[1]){const[e,s]=[l[0].wrapped,l[1].wrapped],o=(0,m.eo)(t,e);if(e&&e&&o&&null!==a&&void 0!==a&&a[e.address]&&null!==a&&void 0!==a&&a[s.address]){var i;const d=(0,m.nP)(a[s.address],r.pool.priceOf(e).quote((0,m.HW)(a[e.address],o)));return void n([t,(null!==(i=l[1])&&void 0!==i&&i.isNative?u.ih.fromRawAmount(l[1],d.quotient):d).toExact()])}}n((e=>[t,0===Number(t)?void 0:e[1]]))}),[l,e,o,null===r||void 0===r?void 0:r.pool,a,n]),h=(0,g.useCallback)((t=>{if(null!==r&&void 0!==r&&r.pool&&!o&&e&&null!==l&&void 0!==l&&l[0]&&null!==l&&void 0!==l&&l[1]){const[e,s]=[l[0].wrapped,l[1].wrapped],o=(0,m.eo)(t,s);if(e&&e&&o&&null!==a&&void 0!==a&&a[e.address]&&null!==a&&void 0!==a&&a[s.address]){var i;const d=(0,m.nP)(a[e.address],r.pool.priceOf(s).quote((0,m.HW)(a[s.address],o)));return void n([(null!==(i=l[0])&&void 0!==i&&i.isNative?u.ih.fromRawAmount(l[0],d.quotient):d).toExact(),t])}}n((e=>[0===Number(t)?void 0:e[0],t]))}),[l,e,o,null===r||void 0===r?void 0:r.pool,a,n]),f=(0,v.L)(null!==s&&void 0!==s?s:void 0,l,t),w=(0,g.useCallback)((async()=>{var t,i,s,a,d;f&&null!==r&&void 0!==r&&r.pool&&f[0]&&f[1]&&l[0]&&(!o&&e?null!==(t=r.pool.priceOf(l[0].wrapped).quote(f[0].wrapped))&&void 0!==t&&t.lessThan(f[1].wrapped)?c((null===(i=(0,m.iN)(f[0]))||void 0===i?void 0:i.toExact())||""):h((null===(s=(0,m.iN)(f[1]))||void 0===s?void 0:s.toExact())||""):n([null===(a=(0,m.iN)(f[0]))||void 0===a?void 0:a.toExact(),null===(d=(0,m.iN)(f[1]))||void 0===d?void 0:d.toExact()]))}),[f,l,e,c,h,o,null===r||void 0===r?void 0:r.pool,n]),y=(0,g.useMemo)((()=>{return!!(f&&null!==r&&void 0!==r&&r.pool&&f[0]&&f[1]&&l[0])&&(!o&&e?null!==(t=r.pool.priceOf(l[0].wrapped).quote(f[0].wrapped))&&void 0!==t&&t.lessThan(f[1].wrapped)?null===(i=d[0])||void 0===i?void 0:i.equalTo((0,m.iN)(f[0])||""):null===(n=d[1])||void 0===n?void 0:n.equalTo((0,m.iN)(f[1])||""):(null===(s=d[0])||void 0===s?void 0:s.equalTo((0,m.iN)(f[0])||""))&&(null===(a=d[1])||void 0===a?void 0:a.equalTo((0,m.iN)(f[1])||"")));var t,i,n,s,a}),[f,l,e,o,d,null===r||void 0===r?void 0:r.pool]);return(0,g.useEffect)((()=>{e&&i[0]&&i[1]||e&&i[0]&&!i[1]?c(i[0]):e&&i[1]&&!i[0]&&h(i[1])}),[e]),(0,g.useMemo)((()=>({mainInput:[i[0],c],secondaryInput:[i[1],h],onMax:w,isMax:y})),[c,h,i,y,w])})({fixedRatio:i,spendFromWallet:n,inputs:s,setInputs:r})};var N=i(16682),_=i(23310),Z=i(37643);const C=()=>{const{poolWithState:e,totalSupply:t,poolBalance:i,rebases:n,noLiquidity:s,poolShare:r,liquidityValue:o,currencies:a}=(0,p.x)(),l=(0,f.C)(Z.tE),d=j(),c=(0,g.useMemo)((()=>{if(null!==e&&void 0!==e&&e.pool&&t&&a[0]&&a[1]&&null!==n&&void 0!==n&&n[a[0].wrapped.address]&&null!==n&&void 0!==n&&n[a[1].wrapped.address]){const r=(0,m.HW)(n[a[0].wrapped.address],d&&d[0]?d[0].wrapped:u.ih.fromRawAmount(a[0],"0").wrapped),o=(0,m.HW)(n[a[1].wrapped.address],d&&d[1]?d[1].wrapped:u.ih.fromRawAmount(a[1],"0").wrapped);if(r.equalTo(u.xE)&&o.equalTo(u.xE))return;try{const i=e.pool.getLiquidityMinted(t,r,o),n=(0,m.uc)(i,s?N.fI:l)[0];return u.ih.fromRawAmount(i.currency,n.toString())}catch(i){console.error(i)}}}),[a,s,d,null===e||void 0===e?void 0:e.pool,n,l,t]),h=(0,g.useMemo)((()=>{if(c&&t&&i)return new u.gG(i.add(c).quotient,t.add(c).quotient)}),[c,i,t]),v=(0,g.useMemo)((()=>{return s&&d?(0,_.d)(d):null!==d&&void 0!==d&&d[1]&&null!==e&&void 0!==e&&e.pool&&null!==(t=d[0])&&void 0!==t&&t.wrapped?null===e||void 0===e?void 0:e.pool.priceOf(null===(i=d[1])||void 0===i?void 0:i.currency.wrapped):void 0;var t,i}),[s,d,null===e||void 0===e?void 0:e.pool]);return(0,g.useMemo)((()=>({poolShareBefore:r,poolShareAfter:h,liquidityMinted:c,liquidityValueBefore:o,price:v})),[r,h,c,o,v])};var k=i(22441),S=i(85893);var T=()=>{var e,t,i,n,r,o,a,l,c;const{i18n:u}=(0,s.mV)(),{poolWithState:h,poolBalance:m}=(0,p.x)(),{price:v,poolShareBefore:x,liquidityMinted:f,poolShareAfter:g}=C();return(0,S.jsxs)("div",{className:"flex flex-col gap-4 lg:gap-8",children:[(0,S.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,S.jsx)(d.Z,{weight:700,className:"text-high-emphesis",children:u._(u._("Transaction Details"))}),(0,S.jsx)(k.Z,{children:(0,S.jsx)(d.Z,{weight:700,variant:"sm",className:"text-right text-blue",children:u._(u._("What do these mean?"))})})]}),(0,S.jsxs)("div",{className:"flex flex-col gap-1",children:[(null===h||void 0===h?void 0:h.pool)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,S.jsxs)(d.Z,{variant:"sm",className:"text-secondary",children:["1 ",null===(e=h.pool)||void 0===e||null===(t=e.token0)||void 0===t?void 0:t.symbol]}),(0,S.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-right text-high-emphesis",children:[v?v.toSignificant(6):"0.000"," ",null===(i=h.pool)||void 0===i||null===(n=i.token1)||void 0===n?void 0:n.symbol]})]}),(0,S.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,S.jsxs)(d.Z,{variant:"sm",className:"text-secondary",children:["1 ",null===(r=h.pool)||void 0===r||null===(o=r.token1)||void 0===o?void 0:o.symbol]}),(0,S.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-right text-high-emphesis",children:[v?v.invert().toSignificant(6):"0.000"," ",null===(a=h.pool)||void 0===a||null===(l=a.token0)||void 0===l?void 0:l.symbol]})]})]}),(0,S.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,S.jsx)(d.Z,{variant:"sm",className:"text-secondary",children:u._(u._("Minimum Received"))}),(0,S.jsxs)(d.Z,{id:"text-liquidity-minted",weight:700,variant:"sm",className:"text-high-emphesis",children:[(null===f||void 0===f?void 0:f.toSignificant(6))||"0.000"," NLP"]})]}),(0,S.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,S.jsx)(d.Z,{variant:"sm",className:"text-secondary",children:u._(u._("Your Pool Share"))}),(0,S.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-right text-high-emphesis",children:[null!==x&&void 0!==x&&x.greaterThan(0)?null===x||void 0===x?void 0:x.toSignificant(6):"0.000","%",(null===g||void 0===g?void 0:g.greaterThan(0))&&(0,S.jsxs)(S.Fragment,{children:["\u2192 ",(0,S.jsxs)("span",{className:"text-green",children:[(null===g||void 0===g?void 0:g.toSignificant(6))||"0.000","%"]})]})]})]}),(0,S.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,S.jsx)(d.Z,{variant:"sm",className:"text-secondary whitespace-nowrap",children:u._(u._("Your Pool Tokens"))}),(0,S.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-right text-high-emphesis",children:[null!==m&&void 0!==m&&m.greaterThan(0)?null===m||void 0===m?void 0:m.toSignificant(6):"0.000",(null===f||void 0===f?void 0:f.greaterThan(0))&&(0,S.jsxs)(S.Fragment,{children:[" NLP ","\u2192"," ",(0,S.jsxs)("span",{className:"text-green",children:[m&&f?null===(c=m.add(f))||void 0===c?void 0:c.toSignificant(6):"0.000"," NLP"]})]})]})]})]})]})};var q=()=>{const{i18n:e}=(0,s.mV)(),t=y();return(0,S.jsxs)("div",{className:"flex flex-col p-10 rounded bg-dark-1000 shadow-lg gap-20",children:[(0,S.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,S.jsx)(d.Z,{variant:"h3",className:"text-high-emphesis",children:e._(e._("Standard Mode"))}),(0,S.jsx)(d.Z,{variant:"sm",children:e._(e._("Select any asset from your wallet or BentoBox balance to invest in this pool.  That asset will be split and converted into the pool assets and deposited in equal value."))})]}),(0,S.jsx)("div",{className:t?"opacity-50":"opacity-100",children:(0,S.jsx)(T,{})})]})},M=i(97436),D=i(15097),W=i(83304),E=i(76866),F=i(49932);var P=()=>{const{i18n:e}=(0,s.mV)(),t=(0,E.Z)(),i=(0,f.T)(),n=(0,W.rO)(),r=(0,W.sL)(),{currencies:o}=(0,p.x)(),{spendFromWallet:l,attemptingTxn:d,bentoPermit:c}=(0,f.C)(h.Zx),[u,v]=j(),x=y(),{mainInput:[g,w],secondaryInput:[N,_],onMax:Z,isMax:C}=b();return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,S.jsx)("div",{}),(0,S.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,S.jsx)(M.Z,{value:g||"",currency:null===o||void 0===o?void 0:o[0],onChange:e=>w(e||""),headerRight:(0,S.jsx)(M.Z.WalletSwitch,{onChange:()=>i((0,h.B5)([!l[0],l[1]])),checked:l[0],id:"switch-spend-from-wallet-a"}),spendFromWallet:l[0],id:"asset-input-a"}),(0,S.jsx)("div",{}),(0,S.jsx)(M.Z,{value:N||"",currency:null===o||void 0===o?void 0:o[1],onChange:e=>_(e||""),headerRight:(0,S.jsx)(M.Z.WalletSwitch,{onChange:()=>i((0,h.B5)([l[0],!l[1]])),checked:l[1],id:"switch-spend-from-wallet-b"}),spendFromWallet:l[1],id:"asset-input-b"}),(0,S.jsx)("div",{className:"flex flex-col gap-3",children:(0,S.jsx)(F.Z,{inputAmounts:[u,v],tokenApproveOn:null===n||void 0===n?void 0:n.address,masterContractAddress:null===r||void 0===r?void 0:r.address,withPermit:!0,permit:c,onPermit:e=>i((0,h.MW)(e)),children:({approved:t,loading:n})=>{const s=!!x||!t||n||d,r=d?(0,S.jsx)(D.Z,{children:e._(e._("Depositing"))}):n?"":x||e._(e._("Confirm Deposit"));return(0,S.jsxs)("div",{className:(0,m.AK)(C?"flex":"grid grid-cols-2 gap-3"),children:[!C&&(0,S.jsx)(a.ZP,{fullWidth:!0,color:"blue",disabled:C,onClick:Z,children:e._(e._("Max Deposit"))}),(0,S.jsx)(a.ZP,{id:"btn-".concat(r.toString().replace(/\s/g,"")),loading:n,fullWidth:!0,color:"gradient",disabled:s,onClick:()=>i((0,h.O4)(!0)),children:r})]})}})})]}),!x&&!t&&(0,S.jsx)("div",{className:"flex flex-col",children:(0,S.jsx)(T,{})})]})})},O=i(92552),I=i(50484),A=i(44345),L=i(63929);var B=()=>{const e=(0,E.Z)(),{0:t,1:i}=(0,g.useState)(!1),{i18n:r}=(0,s.mV)(),o=(0,S.jsx)("div",{className:"flex items-center justify-center w-6 h-6 rounded cursor-pointer",onClick:()=>i(!0),children:(0,S.jsx)(n.zqj,{className:"w-6 h-6 lg:w-4 lg:h-4 text-high-emphesis"})}),a=(0,S.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,S.jsx)(L.Z.Header,{header:r._(r._("Fixed ratio")),onClose:()=>i(!1)}),(0,S.jsxs)(L.Z.BorderedContent,{className:"flex flex-col gap-3",children:[(0,S.jsx)(d.Z,{variant:"sm",className:"text-high-emphesis",children:r._(r._("Balanced Mode is an optional UI setting to maintain the traditional style of equal-value adds and removes."))}),(0,S.jsx)(d.Z,{variant:"sm",weight:400,className:"text-high-emphesis",children:r._(r._("Previously, adding and removing liquidity had to be done with equal amounts of all assets. With the Trident\nupdate, this is no longer mandatory."))})]}),(0,S.jsxs)(L.Z.BorderedContent,{className:"flex flex-col gap-2",children:[(0,S.jsx)(d.Z,{variant:"sm",weight:700,className:"text-white",children:r._(r._("Why use Balance Mode?"))}),(0,S.jsx)(d.Z,{variant:"sm",weight:400,className:"text-high-emphesis",children:r._(r._("Lower price impacts. The closer to equilibrium you interact with a pool, the lower price impact there is on your investment."))})]})]});return(0,S.jsx)(S.Fragment,{children:e?(0,S.jsx)(L.Z,{trigger:o,children:()=>a}):(0,S.jsxs)(S.Fragment,{children:[o,(0,S.jsx)(A.Z,{open:t,onClose:()=>i(!1),children:a})]})})};var R=({margin:e=!0})=>{const t=(0,E.Z)(),{i18n:i}=(0,s.mV)(),n=(0,f.T)(),{fixedRatio:r,liquidityMode:o}=(0,f.C)(h.Zx);if(o!==I.LU.STANDARD)return(0,S.jsx)(S.Fragment,{});const a=(0,S.jsxs)("div",{className:"flex justify-between gap-1 lg:justify-start",children:[(0,S.jsxs)("div",{className:"flex flex-row items-center gap-3 cursor-pointer",onClick:()=>n((0,h.JH)(!r)),children:[(0,S.jsx)(O.Z,{id:"chk-fixed-ratio-deposit",className:"w-6 h-6",checked:r}),(0,S.jsx)(d.Z,{variant:"sm",weight:700,className:r?"text-white":"",children:i._(i._("Deposit assets in equal amounts"))})]}),(0,S.jsx)(B,{})]});return t?(0,S.jsx)("div",{className:"pb-1",children:a}):(0,S.jsxs)("div",{className:e?"top-0 -ml-5 -mr-5 -mt-5 mb-4 pt-5 pb-5 relative":"py-5 relative",children:[(0,S.jsx)("div",{className:"z-[-1] top-0 pointer-events-none absolute w-full h-full border-t border-b border-gradient-r-blue-pink-dark-1000 border-transparent opacity-30",children:(0,S.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-opaque-blue to-opaque-pink"})}),(0,S.jsx)("div",{className:"px-5 z-[1]",children:a})]})},V=i(27801),H=i(84243),K=i(9279),z=i(67347),Y=i(85926),G=i(53344),U=i(68411),X=i(50542);var $=i(70028);var J=({txHash:e,onDismiss:t})=>{const{i18n:i}=(0,s.mV)();return(0,S.jsx)($.S.SubmittedModalContent,{txHash:e,header:i._(i._("Success!")),subheader:i._(i._("Success! Deposit Submitted")),onDismiss:t})};var Q=()=>{const{i18n:e}=(0,s.mV)(),t=(0,f.T)(),{currencies:i}=(0,p.x)(),{attemptingTxn:n,showReview:r,txHash:o,spendFromWallet:l,bentoPermit:c}=(0,f.C)(h.Zx),{liquidityMinted:v,poolShareAfter:w,poolShareBefore:y}=C(),b=(()=>{const{i18n:e}=(0,s.mV)(),{poolWithState:t,rebases:i}=(0,p.x)(),{chainId:n,library:r,account:o}=(0,x.a)(),a=(0,f.T)(),l=(0,U.h7)(),d=(0,Y.sL)();return(0,g.useCallback)((async({parsedAmounts:s,spendFromWallet:c,liquidityMinted:p,bentoPermit:v})=>{const[x,f]=s,[g,w]=c;if(null===t||void 0===t||!t.pool||!n||!r||!o||!d||!p||!i)return;const{pool:j}=t;let y="0x0";const b=[],N=H.$.encode(["address"],[o]);if(x&&(x.currency.isNative&&g&&(y=(0,u.NC)(x)),b.push({token:x.currency.isNative&&g?K.d:x.currency.wrapped.address,native:g,amount:g?x.quotient.toString():(0,m.sO)(i[x.wrapped.currency.address],x.quotient).toString()})),f&&(f.currency.isNative&&w&&(y=(0,u.NC)(f)),b.push({token:f.currency.isNative&&w?K.d:f.currency.wrapped.address,native:w,amount:w?f.quotient.toString():(0,m.sO)(i[f.wrapped.currency.address],f.quotient).toString()})),0!==b.length)try{a((0,h.tD)(!0));const t=await r.getSigner().sendTransaction({from:o,to:d.address,data:(0,z.H7)({contract:d,actions:[(0,z.uE)({router:d,signature:v}),(0,z.x)({contract:d,fn:"addLiquidity",args:[b,j.liquidityToken.address,p.quotient.toString(),N]})]}),value:y});return await t.wait(),l(t,{summary:e._(e._("Add {0} {1} and {2} {3} into {4}/{5}",{0:null===x||void 0===x?void 0:x.toSignificant(3),1:null===x||void 0===x?void 0:x.currency.symbol,2:null===f||void 0===f?void 0:f.toSignificant(3),3:null===f||void 0===f?void 0:f.currency.symbol,4:j.token0.symbol,5:j.token1.symbol}))}),a((0,h.tD)(!1)),X.ZP.event({category:"Liquidity",action:"Add",label:[j.token0.symbol,j.token1.symbol].join("/")}),a((0,h.MW)(void 0)),t}catch(_){a((0,h.tD)(!1)),(null===_||void 0===_?void 0:_.code)!==G.PM&&console.error(_)}}),[t,n,r,o,d,i,a,l,e])})(),N=j(),_=(0,g.useCallback)((async()=>{const e=await b({parsedAmounts:N,liquidityMinted:v,spendFromWallet:l,bentoPermit:c});null!==e&&void 0!==e&&e.hash&&t((0,h.pW)(e.hash))}),[b,N,v,l,c,t]),Z=[N[0]||(null!==i&&void 0!==i&&i[0]?u.ih.fromRawAmount(i[0],"0"):void 0),N[1]||(null!==i&&void 0!==i&&i[1]?u.ih.fromRawAmount(i[1],"0"):void 0)];return(0,S.jsx)(L.Z.Controlled,{isOpen:r,onDismiss:()=>t((0,h.O4)(!1)),afterLeave:()=>t((0,h.pW)(void 0)),maxWidth:"md",unmount:!1,children:o?(0,S.jsx)(J,{txHash:o,onDismiss:()=>t((0,h.pW)(void 0))}):(0,S.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,S.jsx)(L.Z.Header,{header:e._(e._("Confirm add liquidity")),onClose:()=>t((0,h.O4)(!1))}),(0,S.jsx)(d.Z,{variant:"sm",children:e._(e._("Output is estimated. If the price changes by more than 0.5% your transaction will revert."))}),(0,S.jsxs)(L.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,S.jsx)(d.Z,{weight:700,variant:"sm",className:"text-secondary",children:e._(e._("You are depositing:"))}),(0,S.jsx)(V.Z,{items:Z.map(((e,t)=>(0,S.jsx)(V.Z.CurrencyAmountItem,{amount:e},t)))})]}),(0,S.jsxs)(L.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,S.jsx)(d.Z,{weight:700,variant:"sm",className:"text-secondary",children:e._(e._("You'll receive (at least):"))}),(0,S.jsxs)(d.Z,{weight:700,variant:"lg",className:"text-high-emphesis",children:[null===v||void 0===v?void 0:v.toSignificant(6)," NLP"]})]}),(0,S.jsxs)("div",{className:"flex justify-between px-2 py-1",children:[(0,S.jsx)(d.Z,{variant:"sm",className:"text-secondary",children:e._(e._("Share of Pool"))}),(0,S.jsxs)(d.Z,{variant:"sm",weight:700,className:"text-right text-high-emphesis",children:[null!==y&&void 0!==y&&y.greaterThan(0)?null===y||void 0===y?void 0:y.toSignificant(6):"0.000","% \u2192"," ",(null===w||void 0===w?void 0:w.toSignificant(6))||"0.000","%"]})]}),(0,S.jsx)(a.ZP,{id:"btn-modal-confirm-deposit",disabled:n,color:"blue",onClick:_,children:e._(e._("Confirm Deposit"))})]})})},ee=i(87433),te=i(22680),ie=i(41664);const ne=()=>{const{i18n:e}=(0,s.mV)(),{chainId:t}=(0,x.a)(),{poolWithState:i}=(0,p.x)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(te.CV,{pattern:"bg-bubble",children:(0,S.jsxs)("div",{className:"relative flex flex-col w-full gap-5 mt-px lg:justify-between lg:w-7/12",children:[(0,S.jsxs)("div",{className:"flex justify-between",children:[(0,S.jsx)(a.ZP,{color:"blue",variant:"outlined",size:"sm",className:"!pl-2 !py-1 rounded-full",startIcon:(0,S.jsx)(n.wyc,{width:24,height:24}),children:(0,S.jsx)(ie.default,{href:(null===i||void 0===i?void 0:i.state)===r.tK.EXISTS?{pathname:"/trident/pool",query:{tokens:[],fee:i.pool.fee,twap:i.pool.twap}}:"/trident/pools",children:(null===i||void 0===i?void 0:i.state)===r.tK.EXISTS?"".concat(i.pool.token0.symbol,"-").concat(i.pool.token1.symbol):e._(e._("Back"))})}),(0,S.jsx)(l.Z,{trident:!0})]}),(0,S.jsx)("div",{children:(0,S.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,S.jsx)(d.Z,{variant:"h2",weight:700,className:"text-high-emphesis",children:e._(e._("Add Liquidity"))}),(0,S.jsx)(d.Z,{variant:"sm",children:e._(e._("Deposit tokens in equal amounts or deposit either one of the two tokens or in any ratio."))}),i&&[r.tK.NOT_EXISTS,r.tK.INVALID].includes(i.state)&&(0,S.jsx)(o.Z,{className:"px-0 pb-0 bg-transparent",dismissable:!1,type:"error",showIcon:!0,message:e._(e._("A Pool could not be found for provided currencies"))})]})})]})}),(0,S.jsx)(te.A9,{children:(0,S.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,S.jsxs)("div",{className:"flex flex-col w-full lg:w-7/12",children:[(0,S.jsx)(R,{}),(0,S.jsx)(P,{}),(0,S.jsx)(Q,{})]}),(0,S.jsx)("div",{className:"flex flex-col hidden -mt-40 lg:block lg:w-4/12",children:(0,S.jsx)(q,{})})]})})]})};ne.Guard=(0,ee.Z)(c.L.TRIDENT),ne.Provider=p.Z,ne.Layout=te.ZP;var se=ne},46797:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trident/add/[[...tokens]]",function(){return i(20311)}])},78268:function(e,t,i){"use strict";var n=i(67294),s=i(45697),r=i.n(s);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}var l=(0,n.forwardRef)((function(e,t){var i=e.color,s=void 0===i?"currentColor":i,r=e.size,l=void 0===r?24:r,d=a(e,["color","size"]);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),n.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));l.propTypes={color:r().string,size:r().oneOfType([r().string,r().number])},l.displayName="X",t.Z=l}},function(e){e.O(0,[7440,4221,6441,810,1626,4259,6995,134,148,7436,5519,9774,2888,179],(function(){return t=46797,e(e.s=t);var t}));var t=e.O();_N_E=t}]);